<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CQB Theory</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;600&family=Roboto:wght@400;700&display=swap" rel="stylesheet">

    <!-- Link to CSS -->
    <link rel="stylesheet" href="styles.css">
</head>
<body class="index-page">
    <!-- Navbar section -->
    <nav class="navbar">
        <div class="navbar-brand">Reaper <span>Squad</span></div>
        <div class="navbar-links">
            <a href="index.html">Home</a>
            <a href="discord.html">Discord</a>
            <div class="dropdown">
                <button class="dropbtn">Training</button>
                <div class="dropdown-content">
                    <a href="secondary.html">Secondary</a>
                    <a href="#primary">Primary</a>
                    <a href="#cqb">CQB</a>
                    <a href="#advanced">Advanced</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero image section with two overlay boxes -->
    <section class="hero-section">
        <div class="hero-overlay">
            <!-- Left box with Welcome text -->
            <div class="hero-text-box">
                <h1>Welcome to CQB Theory</h1>
                <p>Reaper Squad Training Plan</p>
            </div>
            <!-- Right box with Ratings links -->
            <div class="ratings-box">
                <h2>Certifications</h2>
                <ul>
                    <li><a href="secondary.html">Secondary</a></li>
                    <li><a href="#primary">Primary</a></li>
                    <li><a href="#cqb">CQB</a></li>
                    <li><a href="#advanced">Advanced</a></li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Loader -->
    <div class="loader" id="loader"></div>

    <!-- Modal structure -->
    <div id="myModal" class="modal" style="display: none;">
        <img src="images/Ferrum.png" alt="Recruiting Picture">
        <a id="joinSquad" href="discord.html" class="button-link">Join</a>
    </div>

    <!-- Dark mode toggle button -->
    <button id="darkModeToggle">Toggle Dark Mode</button>

    <script>
        // Show loader on page load
        window.onload = function() {
            const loader = document.getElementById('loader');
            loader.style.display = 'none'; // Hide loader after loading

            // Dark mode logic
            const theme = localStorage.getItem('theme');
            if (theme === 'dark') {
                document.body.classList.add('dark-mode');
            }

            // Show modal on first visit to Discord page
            if (window.location.pathname.includes('discord.html') && !localStorage.getItem('modalShown')) {
                const modal = document.getElementById("myModal");
                modal.style.display = "flex"; // Show the modal
                localStorage.setItem('modalShown', 'true'); // Set the flag to indicate it has been shown
            }
        };

        // JavaScript for dark mode toggle
        document.getElementById('darkModeToggle').addEventListener('click', function() {
            document.body.classList.toggle('dark-mode');
            if (document.body.classList.contains('dark-mode')) {
                localStorage.setItem('theme', 'dark');
            } else {
                localStorage.setItem('theme', 'light');
            }
        });

        // Modal functionality
        var modal = document.getElementById("myModal");

        // Function to close the modal when clicked outside the image
        window.onclick = function(event) {
            // If the user clicks outside the image (on the modal background), close the modal
            if (event.target == modal) {
                modal.style.display = "none";
            }
        };
    </script>
</body>
</html>
