<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discord Page</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="discord-page">
    <!-- Navbar section -->
    <nav class="navbar">
        <div class="navbar-brand">Reaper <span>Squad</span></div>
        <div class="navbar-links">
            <a href="index.html">Home</a>
            <a href="secondary.html">Training</a>
        </div>
    </nav>

    <!-- Hero image section with two overlay boxes -->
    <section class="hero-section">
        <div class="hero-overlay">
            <!-- Left box with Welcome text -->
            <div class="hero-text-box">
                <h1>Reaper Squad Discord</h1>
                <p>Advanced CQB VR Milsim</p>
            </div>
            <!-- Right box with Discord widget -->
            <div class="discordInvite">
                <iframe id="discordInvite" src="https://discord.com/widget?id=1299180169990246472&theme=dark" width="350" height="500" allowtransparency="true" frameborder="0" sandbox="allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"></iframe>
            </div>
        </div>
    </section>

    <!-- Modal structure -->
    <div id="myModal" class="modal" style="display: none;"> <!-- Ensure it's hidden by default -->
        <img src="images/Ferrum.png" alt="Recruiting Picture">
        <a id="joinSquad" href="discord.html" class="button-link">Join</a>
    </div>

    <script>
        // Show the modal when the page loads, but only if it hasn't been shown before
        window.onload = function() {
            const modal = document.getElementById("myModal");
            
            // Check if the modal has been shown before
            if (!localStorage.getItem('modalShown')) {
                modal.style.display = "flex"; // Show the modal
                localStorage.setItem('modalShown', 'true'); // Set the flag to indicate it has been shown
            }
        };

        // Function to close the modal when clicked outside the image
        window.onclick = function(event) {
            var modal = document.getElementById("myModal");
            // If the user clicks outside the modal content, close the modal
            if (event.target == modal) {
                modal.style.display = "none";
            }
        };
    </script>
</body>
</html>
